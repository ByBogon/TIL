# Index ?

- Index의 의미: 색인 - 내가 원하는 부분을 쉽고 빠르게 찾아서 전달해주는 역할. 즉, 정보 검색에 있어 성능을 올려줄 수 있는 도구
- Indexing 을 하지 않으면 DB를 Full search 하고 값을 반환하기 때문에 트래픽에 따라 성능이 저하됨. 그래서 보통 자주 조회되는 column에 대한 index를 걸면 하나의 index table 이 따로 생성되어 값을 저장해놓고 검색 할때 해당 index table에 있는 값들로 결과 값을 조회해 온다.
- 칼럼의 값과 해당 레코드가 저장된 주소를 키와 값의 쌍으로 인덱스를 만들어 주는것

## Index 동작원리

### Index 동작 순서

- index table에서 where에 포함된 값 검색 -> 해당 값의 id(pk)를 가지고 옴 -> 가져온 id(pk) 값으로 원본 테이블에서 값을 조회해서 가져옴.

### 인덱스 종류 및 알고리즘

#### **B+ Tree, B-Tree 인덱스 알고리즘**

- 일반적으로는 B+ Tree 나 B-Tree 알고리즘을 사용. B+ Tree, B-Tree 인덱스는 칼럼의 값을 변형하지 않고(값의 앞부분만 잘라서 관리함), 원래의 값을 이용해 인덱싱 하는 알고리즘

#### **Hash 인덱스 알고리즘**

- 칼럼의 값으로 해시 값을 계산하여 인덱싱하는 알고리즘으로 매우 빠른 검색 지원. 하지만 값을 변형해서 인덱싱하므로, 특정 문자로 시작하는 값으로 검색을 하는등 전방 일치와 같이 값의 일부만으로 검색하고자 할 때는 해시 인덱스를 사용할 수 없다. 주로 메모리 기반의 DB에서 많이 사용한다.

#### 그럼 왜 hash 가 아니라 b-tree 를 일반적으로 사용하는가?

- 데이터에 접근하는 시간복잡도가 O(1)인 hash table 이 더 효율적인것 같지만, 일반적으로 부등호(<>) 연산을 하다보니, hash table 을 사용하게 되면 등호(=) 연산이 아닌 부등호 연산의 경우에 문제가 생김. 등호(=) 연산에 특화된 hashtable 은 DB의 자료구조에 적합하지 않음.
